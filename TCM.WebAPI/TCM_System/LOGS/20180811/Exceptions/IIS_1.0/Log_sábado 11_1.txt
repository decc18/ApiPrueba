07:51:44.876
[Error - [ConexionBDD]
[Comprobando_Conexion]

*********
 Detalle:
*********
EXCEPTION 1):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 51




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 59
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 215
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:51:44.884
[Warning - 

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[administracion]
sp_consulta_sps @i_nombre_sp='spad_consultar_aplicacion', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 797
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.Util.ClsVisorEventos.LogAlert(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 71
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 833
   en TCM.Core.AccesoDatos.ClsConexion.GetInfoProcedimientoAlmacenado(ClsProcedimiento SpNoEnviado) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 662
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 219
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:51:44.944
[Error - [<?xml version="1.0" encoding="utf-8"?>
<DtoAplicacion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <TipoTRX>Consultar</TipoTRX>
  <Id>TRB</Id>
  <TipoAplicacion>0</TipoAplicacion>
  <Activo>false</Activo>
  <RefreshTokenLifeTime>0</RefreshTokenLifeTime>
</DtoAplicacion>]

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[DtoAplicacion]
[administracion]
spad_consultar_aplicacion @i_ap_id='TRB',  @i_ap_secreto=Null,  @i_ap_nombre=Null,  @i_ap_tipoAplicacion='0',  @i_ap_activo='False',  @i_ap_refreshTokenLifeTime='0',  @i_ap_url_permitida=Null,  @i_busquedar=Null,  @i_pagina='0',  @i_reprocesos='0', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 126
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:55:31.983
[Error - [ConexionBDD]
[Comprobando_Conexion]

*********
 Detalle:
*********
EXCEPTION 1):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 51




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 59
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 215
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:55:39.355
[Warning - 

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[administracion]
sp_consulta_sps @i_nombre_sp='spad_consultar_aplicacion', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 797
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.Util.ClsVisorEventos.LogAlert(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 71
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 833
   en TCM.Core.AccesoDatos.ClsConexion.GetInfoProcedimientoAlmacenado(ClsProcedimiento SpNoEnviado) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 662
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 219
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:55:50.640
[Error - [<?xml version="1.0" encoding="utf-8"?>
<DtoAplicacion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <TipoTRX>Consultar</TipoTRX>
  <Id>TRB</Id>
  <TipoAplicacion>0</TipoAplicacion>
  <Activo>false</Activo>
  <RefreshTokenLifeTime>0</RefreshTokenLifeTime>
</DtoAplicacion>]

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[DtoAplicacion]
[administracion]
spad_consultar_aplicacion @i_ap_id='TRB',  @i_ap_secreto=Null,  @i_ap_nombre=Null,  @i_ap_tipoAplicacion='0',  @i_ap_activo='False',  @i_ap_refreshTokenLifeTime='0',  @i_ap_url_permitida=Null,  @i_busquedar=Null,  @i_pagina='0',  @i_reprocesos='0', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 126
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:56:20.702
[Error - [ConexionBDD]
[Comprobando_Conexion]

*********
 Detalle:
*********
EXCEPTION 1):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 51




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 59
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 215
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:56:20.736
[Warning - 

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[administracion]
sp_consulta_sps @i_nombre_sp='spad_consultar_aplicacion', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 797
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.Util.ClsVisorEventos.LogAlert(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 71
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 833
   en TCM.Core.AccesoDatos.ClsConexion.GetInfoProcedimientoAlmacenado(ClsProcedimiento SpNoEnviado) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 662
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 219
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:56:20.765
[Error - [<?xml version="1.0" encoding="utf-8"?>
<DtoAplicacion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <TipoTRX>Consultar</TipoTRX>
  <Id>TRB</Id>
  <TipoAplicacion>0</TipoAplicacion>
  <Activo>false</Activo>
  <RefreshTokenLifeTime>0</RefreshTokenLifeTime>
</DtoAplicacion>]

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[DtoAplicacion]
[administracion]
spad_consultar_aplicacion @i_ap_id='TRB',  @i_ap_secreto=Null,  @i_ap_nombre=Null,  @i_ap_tipoAplicacion='0',  @i_ap_activo='False',  @i_ap_refreshTokenLifeTime='0',  @i_ap_url_permitida=Null,  @i_busquedar=Null,  @i_pagina='0',  @i_reprocesos='0', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 126
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:57:25.758
[Error - [ConexionBDD]
[Comprobando_Conexion]

*********
 Detalle:
*********
EXCEPTION 1):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 51




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 59
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 215
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:57:25.790
[Warning - 

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[administracion]
sp_consulta_sps @i_nombre_sp='spad_consultar_aplicacion', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 797
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.Util.ClsVisorEventos.LogAlert(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 71
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 833
   en TCM.Core.AccesoDatos.ClsConexion.GetInfoProcedimientoAlmacenado(ClsProcedimiento SpNoEnviado) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 662
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 219
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:57:25.820
[Error - [<?xml version="1.0" encoding="utf-8"?>
<DtoAplicacion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <TipoTRX>Consultar</TipoTRX>
  <Id>TRB</Id>
  <TipoAplicacion>0</TipoAplicacion>
  <Activo>false</Activo>
  <RefreshTokenLifeTime>0</RefreshTokenLifeTime>
</DtoAplicacion>]

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[DtoAplicacion]
[administracion]
spad_consultar_aplicacion @i_ap_id='TRB',  @i_ap_secreto=Null,  @i_ap_nombre=Null,  @i_ap_tipoAplicacion='0',  @i_ap_activo='False',  @i_ap_refreshTokenLifeTime='0',  @i_ap_url_permitida=Null,  @i_busquedar=Null,  @i_pagina='0',  @i_reprocesos='0', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 126
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:57:34.813
[Error - [ConexionBDD]
[Comprobando_Conexion]

*********
 Detalle:
*********
EXCEPTION 1):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 51




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 59
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 215
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:57:34.841
[Warning - 

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[administracion]
sp_consulta_sps @i_nombre_sp='spad_consultar_aplicacion', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 797
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.Util.ClsVisorEventos.LogAlert(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 71
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 833
   en TCM.Core.AccesoDatos.ClsConexion.GetInfoProcedimientoAlmacenado(ClsProcedimiento SpNoEnviado) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 662
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 219
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:57:34.872
[Error - [<?xml version="1.0" encoding="utf-8"?>
<DtoAplicacion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <TipoTRX>Consultar</TipoTRX>
  <Id>TRB</Id>
  <TipoAplicacion>0</TipoAplicacion>
  <Activo>false</Activo>
  <RefreshTokenLifeTime>0</RefreshTokenLifeTime>
</DtoAplicacion>]

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[DtoAplicacion]
[administracion]
spad_consultar_aplicacion @i_ap_id='TRB',  @i_ap_secreto=Null,  @i_ap_nombre=Null,  @i_ap_tipoAplicacion='0',  @i_ap_activo='False',  @i_ap_refreshTokenLifeTime='0',  @i_ap_url_permitida=Null,  @i_busquedar=Null,  @i_pagina='0',  @i_reprocesos='0', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 126
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:58:02.692
[Error - [ConexionBDD]
[Comprobando_Conexion]

*********
 Detalle:
*********
EXCEPTION 1):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 51




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 59
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 215
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:58:02.719
[Warning - 

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[administracion]
sp_consulta_sps @i_nombre_sp='spad_consultar_aplicacion', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 797
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.Util.ClsVisorEventos.LogAlert(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 71
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 833
   en TCM.Core.AccesoDatos.ClsConexion.GetInfoProcedimientoAlmacenado(ClsProcedimiento SpNoEnviado) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 662
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 219
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


07:58:02.747
[Error - [<?xml version="1.0" encoding="utf-8"?>
<DtoAplicacion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <TipoTRX>Consultar</TipoTRX>
  <Id>TRB</Id>
  <TipoAplicacion>0</TipoAplicacion>
  <Activo>false</Activo>
  <RefreshTokenLifeTime>0</RefreshTokenLifeTime>
</DtoAplicacion>]

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[DtoAplicacion]
[administracion]
spad_consultar_aplicacion @i_ap_id='TRB',  @i_ap_secreto=Null,  @i_ap_nombre=Null,  @i_ap_tipoAplicacion='0',  @i_ap_activo='False',  @i_ap_refreshTokenLifeTime='0',  @i_ap_url_permitida=Null,  @i_busquedar=Null,  @i_pagina='0',  @i_reprocesos='0', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 126
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


08:00:59.906
[Error - [ConexionBDD]
[Comprobando_Conexion]

*********
 Detalle:
*********
EXCEPTION 1):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 51




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.TestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 59
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 215
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


08:00:59.940
[Warning - 

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[administracion]
sp_consulta_sps @i_nombre_sp='spad_consultar_aplicacion', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 797
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.Util.ClsVisorEventos.LogAlert(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 71
   en TCM.Core.AccesoDatos.ClsConexion.ConsultaSPs(EnumBaseDatos enumBaseDatos, String NombreSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 833
   en TCM.Core.AccesoDatos.ClsConexion.GetInfoProcedimientoAlmacenado(ClsProcedimiento SpNoEnviado) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 662
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 219
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


08:00:59.971
[Error - [<?xml version="1.0" encoding="utf-8"?>
<DtoAplicacion xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <TipoTRX>Consultar</TipoTRX>
  <Id>TRB</Id>
  <TipoAplicacion>0</TipoAplicacion>
  <Activo>false</Activo>
  <RefreshTokenLifeTime>0</RefreshTokenLifeTime>
</DtoAplicacion>]

*********
 Detalle:
*********
EXCEPTION 1):System.Exception
Mensaje:<SP>[DtoAplicacion]
[administracion]
spad_consultar_aplicacion @i_ap_id='TRB',  @i_ap_secreto=Null,  @i_ap_nombre=Null,  @i_ap_tipoAplicacion='0',  @i_ap_activo='False',  @i_ap_refreshTokenLifeTime='0',  @i_ap_url_permitida=Null,  @i_busquedar=Null,  @i_pagina='0',  @i_reprocesos='0', 
</SP>
Origen :TCM.Core.AccesoDatos
Pila   :   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 327
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 199
   en TCM.Core.AccesoDatos.ClsConexion.GetListaConsultaSP[T](ClsProcedimiento SP, Nullable`1 EstadoConsulta) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 183
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 120
EXCEPTION 2):System.InvalidOperationException
Mensaje:No se ha inicializado la propiedad ConnectionString.
Origen :System.Data
Pila   :   en System.Data.SqlClient.SqlConnection.PermissionDemand()
   en System.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)
   en System.Data.SqlClient.SqlConnection.Open()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarProcedimiento(EnumCadenaConexion enumCadena, ClsProcedimiento SP, Boolean ValidarSP) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 227




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.Consultar[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 126
   en TCM.Core.LogicaNegocio.CRUD.CrudDTO.ConsultarFirst[T](T objFiltros) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudDTO.cs:línea 133
   en TCM.Core.LogicaNegocio.CRUD.CrudAplicacion.ConsultarAplicacionById(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\CRUD\CrudAutenticacionExterna.cs:línea 16
   en TCM.LogicaNegocio.LogicaAplicacion.GetAplicacion(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaAplicacion.cs:línea 18
   en TCM.WebAPI.Identity.UserStore.FindClient(String idAplicacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Identity\UserStore.cs:línea 87
   en TCM.WebAPI.Providers.AuthorizationServerProvider.ValidateClientAuthentication(OAuthValidateClientAuthenticationContext context) en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Providers\AuthorizationServerProvider.cs:línea 48
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeTokenEndpointAsync>d__22.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeTokenEndpointAsync()
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.<InvokeAsync>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.OAuth.OAuthAuthorizationServerHandler.InvokeAsync()
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Infrastructure.AppFuncTransition.Invoke(IOwinContext context)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Security.Infrastructure.AuthenticationMiddleware`1.Invoke(IOwinContext context)
   en Microsoft.Owin.Infrastructure.OwinMiddlewareTransition.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Cors.CorsMiddleware.HandleCorsRequestAsync(IOwinContext context, CorsPolicy policy, CorsRequestContext corsRequestContext)
   en Microsoft.Owin.Cors.CorsMiddleware.<Invoke>d__0.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Cors.CorsMiddleware.Invoke(IDictionary`2 environment)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.<RunApp>d__5.MoveNext()
   en System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.RunApp(Func`2 entryPoint, IDictionary`2 environment, TaskCompletionSource`1 tcs, StageAsyncResult result)
   en Microsoft.Owin.Host.SystemWeb.IntegratedPipeline.IntegratedPipelineContextStage.BeginEvent(Object sender, EventArgs e, AsyncCallback cb, Object extradata)
   en System.Web.HttpApplication.AsyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute()
   en System.Web.HttpApplication.ExecuteStepImpl(IExecutionStep step)
   en System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean& completedSynchronously)
   en System.Web.HttpApplication.PipelineStepManager.ResumeSteps(Exception error)
   en System.Web.HttpApplication.BeginProcessRequestNotification(HttpContext context, AsyncCallback cb)
   en System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotificationHelper(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
   en System.Web.Hosting.PipelineRuntime.ProcessRequestNotification(IntPtr rootedObjectsPointer, IntPtr nativeRequestContext, IntPtr moduleData, Int32 flags)
]


08:02:48.693
[Error - [servicio]
[sp_consulta_sps]

*********
 Detalle:
*********
EXCEPTION 1):System.Data.SqlClient.SqlException
Mensaje:La base de datos 'catalogo' no existe. Asegúrese de que ha escrito el nombre correctamente.
Origen :.Net SqlClient Data Provider
Pila   :   en System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   en System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   en System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   en System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   en System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   en System.Data.SqlClient.SqlDataReader.get_MetaData()
   en System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   en System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   en System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   en System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   en System.Data.SqlClient.SqlCommand.ExecuteScalar()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarScript(EnumCadenaConexion enumCadena, String strScript) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 553
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarScript(String strScript) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 498
   en TCM.Core.AccesoDatos.ClsConexion.CargaEstructuraSPs() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 760




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.CargaEstructuraSPs() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 772
   en TCM.Core.AccesoDatos.ClsConexion.DetalleTestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 122
   en TCM.LogicaNegocio.LogicaGeneral.fnTestConexionBDD() en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaGeneral.cs:línea 92
   en TCM.WebAPI.Controllers.HerramientasController.<>c__DisplayClass0_0.<Get>b__0() en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Controllers\HerramientasController.cs:línea 28
   en System.Threading.Tasks.Task.InnerInvoke()
   en System.Threading.Tasks.Task.Execute()
   en System.Threading.Tasks.Task.ExecutionContextCallback(Object obj)
   en System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   en System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   en System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
   en System.Threading.Tasks.Task.ExecuteEntry(Boolean bPreventDoubleExecution)
   en System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   en System.Threading.ThreadPoolWorkQueue.Dispatch()
   en System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
]


08:15:22.771
[Error - [servicio]
[sp_consulta_sps]

*********
 Detalle:
*********
EXCEPTION 1):System.Data.SqlClient.SqlException
Mensaje:La base de datos 'catalogo' no existe. Asegúrese de que ha escrito el nombre correctamente.
Origen :.Net SqlClient Data Provider
Pila   :   en System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   en System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   en System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   en System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   en System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   en System.Data.SqlClient.SqlDataReader.get_MetaData()
   en System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   en System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   en System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   en System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   en System.Data.SqlClient.SqlCommand.ExecuteScalar()
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarScript(EnumCadenaConexion enumCadena, String strScript) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 553
   en TCM.Core.AccesoDatos.ClsConexion.EjecutarScript(String strScript) en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 498
   en TCM.Core.AccesoDatos.ClsConexion.CargaEstructuraSPs() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 760




*********
STACK:
*********
   en System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   en System.Environment.get_StackTrace()
   en TCM.Core.Util.ClsTools.GetMensaje(Boolean InsertarHora, Boolean Vertical, Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 570
   en TCM.Core.Util.ClsTools.GetMensajeVertical(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsTools.cs:línea 454
   en TCM.Core.Util.ClsVisorEventos.LogEvent(Object[] paramInformacion) en C:\Users\Gamma\Source\Workspaces\Core\TCM.Util\ClsVisorEventos.cs:línea 85
   en TCM.Core.AccesoDatos.ClsConexion.CargaEstructuraSPs() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 772
   en TCM.Core.AccesoDatos.ClsConexion.DetalleTestConexion() en C:\Users\Gamma\Source\Workspaces\Core\TCM.ConexionBDD\ClsConexion.cs:línea 122
   en TCM.LogicaNegocio.LogicaGeneral.fnTestConexionBDD() en C:\Users\Gamma\Source\Workspaces\Core\TCM.LogicaNegocio\LogicaGeneral.cs:línea 92
   en TCM.WebAPI.Controllers.HerramientasController.<>c__DisplayClass0_0.<Get>b__0() en C:\Users\Gamma\Source\Workspaces\Core\TCM.WebAPI\Controllers\HerramientasController.cs:línea 28
   en System.Threading.Tasks.Task.InnerInvoke()
   en System.Threading.Tasks.Task.Execute()
   en System.Threading.Tasks.Task.ExecutionContextCallback(Object obj)
   en System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   en System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
   en System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
   en System.Threading.Tasks.Task.ExecuteEntry(Boolean bPreventDoubleExecution)
   en System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   en System.Threading.ThreadPoolWorkQueue.Dispatch()
   en System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
]


